2026-01-30T23:30:52.867Z [DEBUG] [init] configureGlobalMTLS starting
2026-01-30T23:30:52.867Z [DEBUG] [init] configureGlobalMTLS complete
2026-01-30T23:30:52.867Z [DEBUG] [init] configureGlobalAgents starting
2026-01-30T23:30:52.867Z [DEBUG] [init] configureGlobalAgents complete
2026-01-30T23:30:52.879Z [DEBUG] [STARTUP] Loading MCP configs...
2026-01-30T23:30:52.892Z [DEBUG] [ToolSearch:optimistic] mode=tst-auto, ENABLE_TOOL_SEARCH=undefined, result=true
2026-01-30T23:30:52.893Z [DEBUG] [STARTUP] Running setup()...
2026-01-30T23:30:52.894Z [DEBUG] Found 0 plugins (0 enabled, 0 disabled)
2026-01-30T23:30:52.904Z [DEBUG] Loading skills from: managed=/etc/claude-code/.claude/skills, user=/root/.claude/skills, project=[]
2026-01-30T23:30:52.907Z [DEBUG] Error log sink initialized
2026-01-30T23:30:52.920Z [DEBUG] getPluginSkills: Processing 0 enabled plugins
2026-01-30T23:30:52.920Z [DEBUG] Total plugin skills loaded: 0
2026-01-30T23:30:52.920Z [DEBUG] Total plugin commands loaded: 0
2026-01-30T23:30:52.921Z [DEBUG] Registered 0 hooks from 0 plugins
2026-01-30T23:30:52.923Z [DEBUG] [STARTUP] setup() completed in 30ms
2026-01-30T23:30:52.923Z [DEBUG] [STARTUP] Loading commands and agents...
2026-01-30T23:30:52.926Z [DEBUG] Total plugin agents loaded: 0
2026-01-30T23:30:52.926Z [DEBUG] Loaded 0 unique skills (managed: 0, user: 0, project: 0, legacy commands: 0)
2026-01-30T23:30:52.927Z [DEBUG] getSkills returning: 0 skill dir commands, 0 plugin skills, 1 bundled skills
2026-01-30T23:30:52.929Z [DEBUG] [STARTUP] Commands and agents loaded in 6ms
2026-01-30T23:30:52.929Z [DEBUG] [STARTUP] Running showSetupScreens()...
2026-01-30T23:30:52.930Z [DEBUG] [render] initLayout starting
2026-01-30T23:30:52.930Z [DEBUG] Layout engine: yoga
2026-01-30T23:30:52.945Z [DEBUG] [render] initLayout complete
2026-01-30T23:30:52.947Z [DEBUG] [render] first ink render: 636ms since process start
2026-01-30T23:30:52.955Z [DEBUG] [keybindings] KeybindingSetup initialized with 99 bindings, 0 warnings
2026-01-30T23:30:52.977Z [DEBUG] [Perfetto] initializePerfettoTracing called, env value: undefined
2026-01-30T23:30:52.979Z [DEBUG] [STARTUP] showSetupScreens() completed in 50ms
2026-01-30T23:30:52.979Z [DEBUG] [LSP MANAGER] initializeLspServerManager() called
2026-01-30T23:30:52.979Z [DEBUG] [LSP MANAGER] Created manager instance, state=pending
2026-01-30T23:30:52.979Z [DEBUG] [LSP MANAGER] Starting async initialization (generation 1)
2026-01-30T23:30:52.981Z [DEBUG] Total LSP servers loaded: 0
2026-01-30T23:30:52.981Z [DEBUG] [STARTUP] MCP configs loaded in 102ms
2026-01-30T23:30:52.994Z [DEBUG] [Reconnection] computeInitialTeamContext: No teammate context set (not a teammate)
2026-01-30T23:30:52.996Z [DEBUG] Writing to temp file: /root/.claude.json.tmp.9467.1769815852996
2026-01-30T23:30:52.996Z [DEBUG] Preserving file permissions: 100600
2026-01-30T23:30:52.996Z [DEBUG] Temp file written successfully, size: 5969 bytes
2026-01-30T23:30:52.996Z [DEBUG] Applied original permissions to temp file
2026-01-30T23:30:52.996Z [DEBUG] Renaming /root/.claude.json.tmp.9467.1769815852996 to /root/.claude.json
2026-01-30T23:30:52.996Z [DEBUG] File /root/.claude.json written atomically
2026-01-30T23:30:53.001Z [DEBUG] [LSP SERVER MANAGER] getAllLspServers returned 0 server(s)
2026-01-30T23:30:53.001Z [DEBUG] LSP manager initialized with 0 servers
2026-01-30T23:30:53.007Z [DEBUG] installed_plugins.json doesn't exist, returning empty V2 object
2026-01-30T23:30:53.007Z [DEBUG] Initialized versioned plugins system with 0 plugins
2026-01-30T23:30:53.009Z [DEBUG] Getting matching hook commands for SessionStart with query: startup
2026-01-30T23:30:53.009Z [DEBUG] Found 0 hook matchers in settings
2026-01-30T23:30:53.009Z [DEBUG] Matched 0 unique hooks for query "startup" (0 before deduplication)
2026-01-30T23:30:53.009Z [DEBUG] LSP server manager initialized successfully
2026-01-30T23:30:53.009Z [DEBUG] LSP notification handlers registered successfully for all 0 server(s)
2026-01-30T23:30:53.011Z [DEBUG] [render] initLayout starting
2026-01-30T23:30:53.011Z [DEBUG] [render] initLayout complete
2026-01-30T23:30:53.012Z [DEBUG] [render] first ink render: 700ms since process start
2026-01-30T23:30:53.033Z [DEBUG] [keybindings] Watching for changes to /root/.claude/keybindings.json
2026-01-30T23:30:53.040Z [DEBUG] Git remote URL: null
2026-01-30T23:30:53.040Z [DEBUG] No git remote URL found
2026-01-30T23:30:53.040Z [DEBUG] Not in a GitHub repository, skipping path mapping update
2026-01-30T23:30:53.159Z [DEBUG] Ripgrep first use test: PASSED (mode=builtin, path=/usr/lib/node_modules/@anthropic-ai/claude-code/vendor/ripgrep/x64-linux/rg)
2026-01-30T23:30:53.182Z [DEBUG] [keybindings] KeybindingSetup initialized with 99 bindings, 0 warnings
2026-01-30T23:30:53.250Z [DEBUG] [REPL:mount] REPL mounted, disabled=false
2026-01-30T23:30:53.259Z [DEBUG] Official marketplace auto-install skipped: already_attempted
2026-01-30T23:30:53.261Z [DEBUG] performStartupChecks called
2026-01-30T23:30:53.262Z [DEBUG] Starting background plugin installations
2026-01-30T23:30:53.262Z [DEBUG] performBackgroundPluginInstallations called
2026-01-30T23:30:53.270Z [DEBUG] [claudeai-mcp] Checking gate (cached)...
2026-01-30T23:30:53.270Z [DEBUG] [claudeai-mcp] Gate returned: false
2026-01-30T23:30:53.270Z [DEBUG] [claudeai-mcp] Disabled via gate
2026-01-30T23:30:53.272Z [DEBUG] Setting installation status: 0 marketplaces, 0 installable plugins, 0 uninstallable plugins
2026-01-30T23:30:53.273Z [DEBUG] Loaded plugins - Enabled: 0, Disabled: 0, Commands: 0, Agents: 0, Errors: 0
2026-01-30T23:30:53.273Z [DEBUG] [Claude in Chrome] Extension not found in any browser
2026-01-30T23:30:53.300Z [DEBUG] Writing to temp file: /root/.claude.json.tmp.9467.1769815853300
2026-01-30T23:30:53.300Z [DEBUG] Preserving file permissions: 100600
2026-01-30T23:30:53.300Z [DEBUG] Temp file written successfully, size: 5969 bytes
2026-01-30T23:30:53.300Z [DEBUG] Applied original permissions to temp file
2026-01-30T23:30:53.300Z [DEBUG] Renaming /root/.claude.json.tmp.9467.1769815853300 to /root/.claude.json
2026-01-30T23:30:53.300Z [DEBUG] File /root/.claude.json written atomically
2026-01-30T23:30:53.304Z [DEBUG] AutoUpdaterWrapper: Installation type: npm-global
2026-01-30T23:30:53.433Z [DEBUG] rg error (signal=undefined, code=ERR_CHILD_PROCESS_STDIO_MAXBUFFER, stderr: rg: /proc/tty/driver: Permission denied (os error 13)
rg: /proc/9507: No such file or directory (os error 2)
rg: /proc/48/fdinfo: Permission denied (os error 13)
rg: /proc/9498: No such file or directory (os error 2)
rg: Permission denied (os error 13)
rg: /proc/9494: No such file or directory (os error 2)
rg: /proc/9503: No such file or directory (os error 2)
rg: /proc/9502: No such file or directory (os error 2)
rg: /proc/9501: No such file or directory (os error 2)
rg: /proc/9500: No such file or directory (os error 2)
rg: /proc/9499: No such file or directory (os error 2)
rg: /proc/48/task/48/fdinfo: Permission denied (os error 13)
), 235802 results
2026-01-30T23:30:53.433Z [ERROR] RangeError: RangeError [ERR_CHILD_PROCESS_STDIO_MAXBUFFER]: stdout maxBuffer length exceeded
    at Socket.onChildStdout (node:child_process:484:14)
    at Socket.emit (node:events:519:28)
    at addChunk (node:internal/streams/readable:561:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
    at Readable.push (node:internal/streams/readable:392:5)
    at Pipe.onStreamRead (node:internal/stream_base_commons:189:23)
2026-01-30T23:30:53.456Z [DEBUG] [API:request] Creating client, ANTHROPIC_CUSTOM_HEADERS present: false, has Authorization header: false
2026-01-30T23:30:53.456Z [DEBUG] [API:auth] OAuth token check starting
2026-01-30T23:30:53.456Z [DEBUG] [API:auth] OAuth token check complete
2026-01-30T23:30:53.469Z [ERROR] Error: Error: Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted
    at gy.validateHeaders (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:421:1008)
    at gy.buildHeaders (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:421:8502)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async gy.buildRequest (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:421:7560)
    at async gy.makeRequest (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:421:3388)
    at async file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:3286:18631
    at async file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:1027:2232
    at async Sk9 (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:1026:17215)
    at async Ls7 (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:1027:2165)
    at async mF1 (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:3286:3684)
2026-01-30T23:30:53.469Z [DEBUG] countTokensWithFallback: API returned null, trying haiku fallback (21 tools)
2026-01-30T23:30:53.469Z [DEBUG] [API:request] Creating client, ANTHROPIC_CUSTOM_HEADERS present: false, has Authorization header: false
2026-01-30T23:30:53.469Z [DEBUG] [API:auth] OAuth token check starting
2026-01-30T23:30:53.469Z [DEBUG] [API:auth] OAuth token check complete
2026-01-30T23:30:53.472Z [DEBUG] countTokensWithFallback: haiku fallback failed: Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted
2026-01-30T23:30:53.472Z [ERROR] Error: Error: Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted
    at gy.validateHeaders (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:421:1008)
    at gy.buildHeaders (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:421:8502)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async gy.buildRequest (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:421:7560)
    at async gy.makeRequest (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:421:3388)
    at async Ei4 (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:3286:19323)
    at async mF1 (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:3286:3956)
    at async vp (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:3286:4380)
    at async Lc4 (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:3132:554)
2026-01-30T23:30:53.472Z [DEBUG] countToolDefinitionTokens returned null for 21 tools: Task, TaskOutput, Bash, Glob, Grep, ExitPlanMode, Read, Edit, Write, NotebookEdit, WebFetch, WebSear...
2026-01-30T23:31:51.342Z [DEBUG] Hooks: Found 0 total hooks in registry
2026-01-30T23:31:51.342Z [DEBUG] Hooks: checkForNewResponses returning 0 responses
2026-01-30T23:31:51.343Z [DEBUG] Sending 1 skills via attachment (initial, 1 total sent)
2026-01-30T23:31:51.343Z [DEBUG] LSP Diagnostics: getLSPDiagnosticAttachments called
2026-01-30T23:31:51.343Z [DEBUG] LSP Diagnostics: Checking registry - 0 pending
2026-01-30T23:31:51.350Z [DEBUG] Getting matching hook commands for UserPromptSubmit with query: undefined
2026-01-30T23:31:51.350Z [DEBUG] Found 0 hook matchers in settings
2026-01-30T23:31:51.350Z [DEBUG] Matched 0 unique hooks for query "no match query" (0 before deduplication)
2026-01-30T23:31:51.360Z [DEBUG] FileHistory: Added snapshot for 2d5a9ae2-7bdc-4844-a1a9-bd270055bbb2, tracking 0 files
2026-01-30T23:31:51.392Z [DEBUG] Writing to temp file: /root/.claude/todos/737790f6-ecad-441f-9cb1-03788982d8ff-agent-737790f6-ecad-441f-9cb1-03788982d8ff.json.tmp.9467.1769815911392
2026-01-30T23:31:51.406Z [DEBUG] Temp file written successfully, size: 2 bytes
2026-01-30T23:31:51.406Z [DEBUG] Renaming /root/.claude/todos/737790f6-ecad-441f-9cb1-03788982d8ff-agent-737790f6-ecad-441f-9cb1-03788982d8ff.json.tmp.9467.1769815911392 to /root/.claude/todos/737790f6-ecad-441f-9cb1-03788982d8ff-agent-737790f6-ecad-441f-9cb1-03788982d8ff.json
2026-01-30T23:31:51.408Z [DEBUG] File /root/.claude/todos/737790f6-ecad-441f-9cb1-03788982d8ff-agent-737790f6-ecad-441f-9cb1-03788982d8ff.json written atomically
2026-01-30T23:31:51.423Z [DEBUG] Tool search disabled for model 'claude-haiku-4-5-20251001': model does not support tool_reference blocks. This feature is only available on Claude Sonnet 4+, Opus 4+, and newer models.
2026-01-30T23:31:51.427Z [DEBUG] attribution header x-anthropic-billing-header: cc_version=2.1.27.278; cc_entrypoint=cli;
2026-01-30T23:31:51.430Z [DEBUG] [API:request] Creating client, ANTHROPIC_CUSTOM_HEADERS present: false, has Authorization header: false
2026-01-30T23:31:51.430Z [DEBUG] [API:auth] OAuth token check starting
2026-01-30T23:31:51.432Z [DEBUG] Total plugin output styles loaded: 0
2026-01-30T23:31:51.435Z [DEBUG] [API:auth] OAuth token check complete
2026-01-30T23:31:51.437Z [ERROR] API error (attempt 1/11): Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted
2026-01-30T23:31:51.437Z [ERROR] Error in non-streaming fallback: Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted
2026-01-30T23:31:51.437Z [ERROR] Error: Error: Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted
    at gy.validateHeaders (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:421:1008)
    at gy.buildHeaders (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:421:8502)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async gy.buildRequest (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:421:7560)
    at async gy.makeRequest (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:421:3388)
2026-01-30T23:31:51.438Z [ERROR] SyntaxError: SyntaxError: Unexpected token 'I', "Invalid AP"... is not valid JSON
    at JSON.parse (<anonymous>)
    at file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:66:812
    at K (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:8:6807)
    at Bf7 (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:824:92158)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2026-01-30T23:31:51.446Z [DEBUG] Auto tool search disabled: 0 tokens (threshold: 20000, 10% of context) [source: query]
2026-01-30T23:31:51.461Z [DEBUG] attribution header x-anthropic-billing-header: cc_version=2.1.27.84b; cc_entrypoint=cli;
2026-01-30T23:31:51.463Z [ERROR] ReferenceError: ReferenceError: Bun is not defined
    at Z34 (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:1602:27809)
    at f34 (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:1614:83)
    at C5q (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:4787:6330)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:4787:3611
    at async Z$A (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:1027:2007)
    at async pM1 (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:4787:3581)
    at async mN (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:3186:5201)
    at async file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:6197:2795
    at async file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:6197:4107
2026-01-30T23:31:51.464Z [DEBUG] [API:request] Creating client, ANTHROPIC_CUSTOM_HEADERS present: false, has Authorization header: false
2026-01-30T23:31:51.464Z [DEBUG] [API:auth] OAuth token check starting
2026-01-30T23:31:51.467Z [DEBUG] [API:auth] OAuth token check complete
2026-01-30T23:31:51.470Z [ERROR] API error (attempt 1/11): Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted
2026-01-30T23:31:51.470Z [ERROR] Error in non-streaming fallback: Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted
2026-01-30T23:31:51.470Z [ERROR] Error: Error: Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted
    at gy.validateHeaders (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:421:1008)
    at gy.buildHeaders (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:421:8502)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async gy.buildRequest (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:421:7560)
    at async gy.makeRequest (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:421:3388)
2026-01-30T23:31:51.475Z [DEBUG] Writing to temp file: /root/.claude.json.tmp.9467.1769815911475
2026-01-30T23:31:51.475Z [DEBUG] Preserving file permissions: 100600
2026-01-30T23:31:51.475Z [DEBUG] Temp file written successfully, size: 6590 bytes
2026-01-30T23:31:51.475Z [DEBUG] Applied original permissions to temp file
2026-01-30T23:31:51.475Z [DEBUG] Renaming /root/.claude.json.tmp.9467.1769815911475 to /root/.claude.json
2026-01-30T23:31:51.475Z [DEBUG] File /root/.claude.json written atomically
2026-01-30T23:31:51.475Z [DEBUG] Getting matching hook commands for Stop with query: undefined
2026-01-30T23:31:51.475Z [DEBUG] Found 0 hook matchers in settings
2026-01-30T23:31:51.475Z [DEBUG] Matched 0 unique hooks for query "no match query" (0 before deduplication)
2026-01-30T23:31:51.477Z [DEBUG] Writing to temp file: /root/.claude.json.tmp.9467.1769815911477
2026-01-30T23:31:51.477Z [DEBUG] Preserving file permissions: 100600
2026-01-30T23:31:51.477Z [DEBUG] Temp file written successfully, size: 6636 bytes
2026-01-30T23:31:51.477Z [DEBUG] Applied original permissions to temp file
2026-01-30T23:31:51.477Z [DEBUG] Renaming /root/.claude.json.tmp.9467.1769815911477 to /root/.claude.json
2026-01-30T23:31:51.477Z [DEBUG] File /root/.claude.json written atomically
2026-01-30T23:31:51.531Z [DEBUG] Writing to temp file: /root/.claude.json.tmp.9467.1769815911531
2026-01-30T23:31:51.531Z [DEBUG] Preserving file permissions: 100600
2026-01-30T23:31:51.531Z [DEBUG] Temp file written successfully, size: 6685 bytes
2026-01-30T23:31:51.531Z [DEBUG] Applied original permissions to temp file
2026-01-30T23:31:51.531Z [DEBUG] Renaming /root/.claude.json.tmp.9467.1769815911531 to /root/.claude.json
2026-01-30T23:31:51.531Z [DEBUG] File /root/.claude.json written atomically
2026-01-30T23:31:51.543Z [DEBUG] Writing to temp file: /root/.claude.json.tmp.9467.1769815911543
2026-01-30T23:31:51.543Z [DEBUG] Preserving file permissions: 100600
2026-01-30T23:31:51.543Z [DEBUG] Temp file written successfully, size: 6723 bytes
2026-01-30T23:31:51.543Z [DEBUG] Applied original permissions to temp file
2026-01-30T23:31:51.543Z [DEBUG] Renaming /root/.claude.json.tmp.9467.1769815911543 to /root/.claude.json
2026-01-30T23:31:51.543Z [DEBUG] File /root/.claude.json written atomically
2026-01-30T23:31:51.548Z [DEBUG] Stats cache does not exist, returning empty cache
2026-01-30T23:31:51.549Z [DEBUG] Stats cache empty, processing all historical data in background
2026-01-30T23:31:51.550Z [DEBUG] Summarizing all 2 messages (~0 tokens)
2026-01-30T23:31:51.550Z [DEBUG] Tool search disabled for model 'claude-haiku-4-5-20251001': model does not support tool_reference blocks. This feature is only available on Claude Sonnet 4+, Opus 4+, and newer models.
2026-01-30T23:31:51.553Z [DEBUG] attribution header x-anthropic-billing-header: cc_version=2.1.27.fee; cc_entrypoint=cli;
2026-01-30T23:31:51.556Z [DEBUG] [API:request] Creating client, ANTHROPIC_CUSTOM_HEADERS present: false, has Authorization header: false
2026-01-30T23:31:51.556Z [DEBUG] [API:auth] OAuth token check starting
2026-01-30T23:31:51.560Z [DEBUG] [API:auth] OAuth token check complete
2026-01-30T23:31:51.562Z [ERROR] API error (attempt 1/11): Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted
2026-01-30T23:31:51.562Z [ERROR] Error in non-streaming fallback: Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted
2026-01-30T23:31:51.562Z [ERROR] Error: Error: Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted
    at gy.validateHeaders (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:421:1008)
    at gy.buildHeaders (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:421:8502)
    at async gy.buildRequest (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:421:7560)
    at async gy.makeRequest (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:421:3388)
2026-01-30T23:31:51.566Z [DEBUG] Generated summary for session 34700e5b-bc0c-41b5-b10c-629c8c6c913d: "Invalid API key · Please run /login"
2026-01-30T23:31:51.587Z [DEBUG] Summarizing all 2 messages (~0 tokens)
2026-01-30T23:31:51.587Z [DEBUG] Tool search disabled for model 'claude-haiku-4-5-20251001': model does not support tool_reference blocks. This feature is only available on Claude Sonnet 4+, Opus 4+, and newer models.
2026-01-30T23:31:51.590Z [DEBUG] attribution header x-anthropic-billing-header: cc_version=2.1.27.fee; cc_entrypoint=cli;
2026-01-30T23:31:51.593Z [DEBUG] [API:request] Creating client, ANTHROPIC_CUSTOM_HEADERS present: false, has Authorization header: false
2026-01-30T23:31:51.593Z [DEBUG] [API:auth] OAuth token check starting
2026-01-30T23:31:51.597Z [DEBUG] [API:auth] OAuth token check complete
2026-01-30T23:31:51.600Z [ERROR] API error (attempt 1/11): Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted
2026-01-30T23:31:51.600Z [ERROR] Error in non-streaming fallback: Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted
2026-01-30T23:31:51.600Z [ERROR] Error: Error: Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted
    at gy.validateHeaders (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:421:1008)
    at gy.buildHeaders (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:421:8502)
    at async gy.buildRequest (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:421:7560)
    at async gy.makeRequest (file:///usr/lib/node_modules/@anthropic-ai/claude-code/cli.js:421:3388)
2026-01-30T23:31:51.612Z [DEBUG] Generated summary for session cb63448f-5cd8-4f56-a6b0-1853546e0072: "Invalid API key · Please run /login"
2026-01-30T23:31:51.618Z [DEBUG] Session index: added 1, updated 1, removed 0, summaries generated 2 (total: 2)
2026-01-30T23:31:51.980Z [DEBUG] Successfully refreshed marketplace: claude-plugins-official
2026-01-30T23:31:51.980Z [DEBUG] Plugin autoupdate: checking installed plugins
2026-01-30T23:31:53.776Z [DEBUG] Full reset (shrink->below): prevHeight=25, nextHeight=22, viewport=24
2026-01-30T23:31:57.139Z [DEBUG] Full reset (shrink->below): prevHeight=31, nextHeight=19, viewport=24
2026-01-30T23:32:15.257Z [DEBUG] Metrics opt-out check failed: No API key available
2026-01-30T23:32:15.257Z [DEBUG] Metrics check failed, defaulting to disabled
2026-01-30T23:32:15.257Z [DEBUG] Metrics export disabled by organization setting
2026-01-30T23:32:15.257Z [DEBUG] BigQuery metrics exporter flush complete
2026-01-30T23:32:15.257Z [DEBUG] Telemetry flushed successfully
2026-01-30T23:32:15.258Z [DEBUG] Writing to temp file: /root/.claude.json.tmp.9467.1769815935258
2026-01-30T23:32:15.258Z [DEBUG] Preserving file permissions: 100600
2026-01-30T23:32:15.258Z [DEBUG] Temp file written successfully, size: 6723 bytes
2026-01-30T23:32:15.258Z [DEBUG] Applied original permissions to temp file
2026-01-30T23:32:15.258Z [DEBUG] Renaming /root/.claude.json.tmp.9467.1769815935258 to /root/.claude.json
2026-01-30T23:32:15.259Z [DEBUG] File /root/.claude.json written atomically
2026-01-30T23:32:15.265Z [DEBUG] Writing to temp file: /root/.claude.json.tmp.9467.1769815935265
2026-01-30T23:32:15.265Z [DEBUG] Preserving file permissions: 100600
2026-01-30T23:32:15.265Z [DEBUG] Temp file written successfully, size: 6344 bytes
2026-01-30T23:32:15.265Z [DEBUG] Applied original permissions to temp file
2026-01-30T23:32:15.265Z [DEBUG] Renaming /root/.claude.json.tmp.9467.1769815935265 to /root/.claude.json
2026-01-30T23:32:15.265Z [DEBUG] File /root/.claude.json written atomically
2026-01-30T23:32:15.553Z [DEBUG] Writing to temp file: /root/.claude.json.tmp.9467.1769815935553
2026-01-30T23:32:15.553Z [DEBUG] Preserving file permissions: 100600
2026-01-30T23:32:15.553Z [DEBUG] Temp file written successfully, size: 6598 bytes
2026-01-30T23:32:15.553Z [DEBUG] Applied original permissions to temp file
2026-01-30T23:32:15.553Z [DEBUG] Renaming /root/.claude.json.tmp.9467.1769815935553 to /root/.claude.json
2026-01-30T23:32:15.553Z [DEBUG] File /root/.claude.json written atomically
2026-01-30T23:32:15.766Z [DEBUG] Writing to temp file: /root/.claude.json.tmp.9467.1769815935766
2026-01-30T23:32:15.766Z [DEBUG] Preserving file permissions: 100600
2026-01-30T23:32:15.766Z [DEBUG] Temp file written successfully, size: 6723 bytes
2026-01-30T23:32:15.766Z [DEBUG] Applied original permissions to temp file
2026-01-30T23:32:15.766Z [DEBUG] Renaming /root/.claude.json.tmp.9467.1769815935766 to /root/.claude.json
2026-01-30T23:32:15.767Z [DEBUG] File /root/.claude.json written atomically
2026-01-30T23:32:15.773Z [DEBUG] Getting matching hook commands for Notification with query: auth_success
2026-01-30T23:32:15.773Z [DEBUG] Found 0 hook matchers in settings
2026-01-30T23:32:15.773Z [DEBUG] Matched 0 unique hooks for query "auth_success" (0 before deduplication)
2026-01-30T23:32:15.780Z [DEBUG] Full reset (shrink->below): prevHeight=31, nextHeight=21, viewport=24
2026-01-30T23:32:15.951Z [DEBUG] Metrics opt-out API response: enabled=true, vcsLinking=false
2026-01-30T23:32:17.876Z [DEBUG] Programmatic settings change notification for policySettings
2026-01-30T23:32:17.876Z [DEBUG] Plugin hooks: reloading due to policySettings change
2026-01-30T23:32:17.881Z [DEBUG] Settings changed from policySettings, updating AppState
2026-01-30T23:32:17.886Z [DEBUG] Writing to temp file: /root/.claude.json.tmp.9467.1769815937886
2026-01-30T23:32:17.886Z [DEBUG] Preserving file permissions: 100600
2026-01-30T23:32:17.886Z [DEBUG] Temp file written successfully, size: 6794 bytes
2026-01-30T23:32:17.886Z [DEBUG] Applied original permissions to temp file
2026-01-30T23:32:17.886Z [DEBUG] Renaming /root/.claude.json.tmp.9467.1769815937886 to /root/.claude.json
2026-01-30T23:32:17.886Z [DEBUG] File /root/.claude.json written atomically
2026-01-30T23:32:17.887Z [DEBUG] Found 0 plugins (0 enabled, 0 disabled)
2026-01-30T23:32:17.888Z [DEBUG] Registered 0 hooks from 0 plugins
2026-01-30T23:32:17.889Z [DEBUG] FileHistory: Making snapshot for message c5a784ad-79a3-4596-bc58-2561a0f6a29e
2026-01-30T23:32:17.893Z [DEBUG] FileHistory: Added snapshot for c5a784ad-79a3-4596-bc58-2561a0f6a29e, tracking 0 files
2026-01-30T23:32:17.965Z [DEBUG] [claudeai-mcp] Checking gate (cached)...
2026-01-30T23:32:17.965Z [DEBUG] [claudeai-mcp] Gate returned: false
2026-01-30T23:32:17.965Z [DEBUG] [claudeai-mcp] Disabled via gate
2026-01-30T23:32:17.979Z [DEBUG] Writing to temp file: /root/.claude.json.tmp.9467.1769815937979
2026-01-30T23:32:17.979Z [DEBUG] Preserving file permissions: 100600
2026-01-30T23:32:17.979Z [DEBUG] Temp file written successfully, size: 6819 bytes
2026-01-30T23:32:17.979Z [DEBUG] Applied original permissions to temp file
2026-01-30T23:32:17.979Z [DEBUG] Renaming /root/.claude.json.tmp.9467.1769815937979 to /root/.claude.json
2026-01-30T23:32:17.979Z [DEBUG] File /root/.claude.json written atomically
2026-01-30T23:32:18.010Z [DEBUG] Writing to temp file: /root/.claude.json.tmp.9467.1769815938010
2026-01-30T23:32:18.010Z [DEBUG] Preserving file permissions: 100600
2026-01-30T23:32:18.010Z [DEBUG] Temp file written successfully, size: 6844 bytes
2026-01-30T23:32:18.010Z [DEBUG] Applied original permissions to temp file
2026-01-30T23:32:18.010Z [DEBUG] Renaming /root/.claude.json.tmp.9467.1769815938010 to /root/.claude.json
2026-01-30T23:32:18.010Z [DEBUG] File /root/.claude.json written atomically
2026-01-30T23:32:18.020Z [DEBUG] AutoUpdaterWrapper: Installation type: npm-global
2026-01-30T23:33:18.022Z [DEBUG] Getting matching hook commands for Notification with query: idle_prompt
2026-01-30T23:33:18.022Z [DEBUG] Found 0 hook matchers in settings
2026-01-30T23:33:18.022Z [DEBUG] Matched 0 unique hooks for query "idle_prompt" (0 before deduplication)
2026-01-30T23:35:53.243Z [DEBUG] BigQuery metrics exported successfully
2026-01-30T23:35:53.243Z [DEBUG] BigQuery API Response: {
  "accepted_count": 1,
  "rejected_count": 0
}
2026-01-30T23:36:44.874Z [DEBUG] Getting matching hook commands for SessionEnd with query: prompt_input_exit
2026-01-30T23:36:44.874Z [DEBUG] Found 0 hook matchers in settings
2026-01-30T23:36:44.874Z [DEBUG] Matched 0 unique hooks for query "prompt_input_exit" (0 before deduplication)
